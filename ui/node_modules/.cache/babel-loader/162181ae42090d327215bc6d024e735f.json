{"ast":null,"code":"'use strict';\n\nmodule.exports = function merge(s1, s2, skipConflictingPaths) {\n  const paths = Object.keys(s2.tree);\n  const pathsToAdd = {};\n\n  for (const key of paths) {\n    if (skipConflictingPaths && (s1.paths[key] || s1.nested[key] || s1.singleNestedPaths[key])) {\n      continue;\n    }\n\n    pathsToAdd[key] = s2.tree[key];\n  }\n\n  s1.add(pathsToAdd);\n  s1.callQueue = s1.callQueue.concat(s2.callQueue);\n  s1.method(s2.methods);\n  s1.static(s2.statics);\n\n  for (const query in s2.query) {\n    s1.query[query] = s2.query[query];\n  }\n\n  for (const virtual in s2.virtuals) {\n    s1.virtuals[virtual] = s2.virtuals[virtual].clone();\n  }\n\n  s1.s.hooks.merge(s2.s.hooks, false);\n};","map":{"version":3,"sources":["/home/gregorian/calendar-ui/node_modules/mongoose/lib/helpers/schema/merge.js"],"names":["module","exports","merge","s1","s2","skipConflictingPaths","paths","Object","keys","tree","pathsToAdd","key","nested","singleNestedPaths","add","callQueue","concat","method","methods","static","statics","query","virtual","virtuals","clone","s","hooks"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,OAAP,GAAiB,SAASC,KAAT,CAAeC,EAAf,EAAmBC,EAAnB,EAAuBC,oBAAvB,EAA6C;AAC5D,QAAMC,KAAK,GAAGC,MAAM,CAACC,IAAP,CAAYJ,EAAE,CAACK,IAAf,CAAd;AACA,QAAMC,UAAU,GAAG,EAAnB;;AACA,OAAK,MAAMC,GAAX,IAAkBL,KAAlB,EAAyB;AACvB,QAAID,oBAAoB,KAAKF,EAAE,CAACG,KAAH,CAASK,GAAT,KAAiBR,EAAE,CAACS,MAAH,CAAUD,GAAV,CAAjB,IAAmCR,EAAE,CAACU,iBAAH,CAAqBF,GAArB,CAAxC,CAAxB,EAA4F;AAC1F;AACD;;AACDD,IAAAA,UAAU,CAACC,GAAD,CAAV,GAAkBP,EAAE,CAACK,IAAH,CAAQE,GAAR,CAAlB;AACD;;AACDR,EAAAA,EAAE,CAACW,GAAH,CAAOJ,UAAP;AAEAP,EAAAA,EAAE,CAACY,SAAH,GAAeZ,EAAE,CAACY,SAAH,CAAaC,MAAb,CAAoBZ,EAAE,CAACW,SAAvB,CAAf;AACAZ,EAAAA,EAAE,CAACc,MAAH,CAAUb,EAAE,CAACc,OAAb;AACAf,EAAAA,EAAE,CAACgB,MAAH,CAAUf,EAAE,CAACgB,OAAb;;AAEA,OAAK,MAAMC,KAAX,IAAoBjB,EAAE,CAACiB,KAAvB,EAA8B;AAC5BlB,IAAAA,EAAE,CAACkB,KAAH,CAASA,KAAT,IAAkBjB,EAAE,CAACiB,KAAH,CAASA,KAAT,CAAlB;AACD;;AAED,OAAK,MAAMC,OAAX,IAAsBlB,EAAE,CAACmB,QAAzB,EAAmC;AACjCpB,IAAAA,EAAE,CAACoB,QAAH,CAAYD,OAAZ,IAAuBlB,EAAE,CAACmB,QAAH,CAAYD,OAAZ,EAAqBE,KAArB,EAAvB;AACD;;AAEDrB,EAAAA,EAAE,CAACsB,CAAH,CAAKC,KAAL,CAAWxB,KAAX,CAAiBE,EAAE,CAACqB,CAAH,CAAKC,KAAtB,EAA6B,KAA7B;AACD,CAxBD","sourcesContent":["'use strict';\n\nmodule.exports = function merge(s1, s2, skipConflictingPaths) {\n  const paths = Object.keys(s2.tree);\n  const pathsToAdd = {};\n  for (const key of paths) {\n    if (skipConflictingPaths && (s1.paths[key] || s1.nested[key] || s1.singleNestedPaths[key])) {\n      continue;\n    }\n    pathsToAdd[key] = s2.tree[key];\n  }\n  s1.add(pathsToAdd);\n\n  s1.callQueue = s1.callQueue.concat(s2.callQueue);\n  s1.method(s2.methods);\n  s1.static(s2.statics);\n\n  for (const query in s2.query) {\n    s1.query[query] = s2.query[query];\n  }\n\n  for (const virtual in s2.virtuals) {\n    s1.virtuals[virtual] = s2.virtuals[virtual].clone();\n  }\n\n  s1.s.hooks.merge(s2.s.hooks, false);\n};\n"]},"metadata":{},"sourceType":"script"}