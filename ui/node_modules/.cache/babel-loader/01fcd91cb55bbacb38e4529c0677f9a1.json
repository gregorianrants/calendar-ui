{"ast":null,"code":"/*!\n * Module dependencies.\n */\n'use strict';\n\nconst MongooseError = require('./');\n\nclass ValidatorError extends MongooseError {\n  /**\n   * Schema validator error\n   *\n   * @param {Object} properties\n   * @api private\n   */\n  constructor(properties) {\n    let msg = properties.message;\n\n    if (!msg) {\n      msg = MongooseError.messages.general.default;\n    }\n\n    const message = formatMessage(msg, properties);\n    super(message);\n    properties = Object.assign({}, properties, {\n      message: message\n    });\n    this.properties = properties;\n    this.kind = properties.type;\n    this.path = properties.path;\n    this.value = properties.value;\n    this.reason = properties.reason;\n  }\n  /*!\n   * toString helper\n   * TODO remove? This defaults to `${this.name}: ${this.message}`\n   */\n\n\n  toString() {\n    return this.message;\n  }\n  /*!\n   * Ensure `name` and `message` show up in toJSON output re: gh-9296\n   */\n\n\n  toJSON() {\n    return Object.assign({\n      name: this.name,\n      message: this.message\n    }, this);\n  }\n\n}\n\nObject.defineProperty(ValidatorError.prototype, 'name', {\n  value: 'ValidatorError'\n});\n/*!\n * The object used to define this validator. Not enumerable to hide\n * it from `require('util').inspect()` output re: gh-3925\n */\n\nObject.defineProperty(ValidatorError.prototype, 'properties', {\n  enumerable: false,\n  writable: true,\n  value: null\n}); // Exposed for testing\n\nValidatorError.prototype.formatMessage = formatMessage;\n/*!\n * Formats error messages\n */\n\nfunction formatMessage(msg, properties) {\n  if (typeof msg === 'function') {\n    return msg(properties);\n  }\n\n  const propertyNames = Object.keys(properties);\n\n  for (const propertyName of propertyNames) {\n    if (propertyName === 'message') {\n      continue;\n    }\n\n    msg = msg.replace('{' + propertyName.toUpperCase() + '}', properties[propertyName]);\n  }\n\n  return msg;\n}\n/*!\n * exports\n */\n\n\nmodule.exports = ValidatorError;","map":{"version":3,"sources":["/home/gregorian/calendar-ui/node_modules/mongoose/lib/error/validator.js"],"names":["MongooseError","require","ValidatorError","constructor","properties","msg","message","messages","general","default","formatMessage","Object","assign","kind","type","path","value","reason","toString","toJSON","name","defineProperty","prototype","enumerable","writable","propertyNames","keys","propertyName","replace","toUpperCase","module","exports"],"mappings":"AAAA;AACA;AACA;AAEA;;AAEA,MAAMA,aAAa,GAAGC,OAAO,CAAC,IAAD,CAA7B;;AAGA,MAAMC,cAAN,SAA6BF,aAA7B,CAA2C;AACzC;AACF;AACA;AACA;AACA;AACA;AACEG,EAAAA,WAAW,CAACC,UAAD,EAAa;AACtB,QAAIC,GAAG,GAAGD,UAAU,CAACE,OAArB;;AACA,QAAI,CAACD,GAAL,EAAU;AACRA,MAAAA,GAAG,GAAGL,aAAa,CAACO,QAAd,CAAuBC,OAAvB,CAA+BC,OAArC;AACD;;AAED,UAAMH,OAAO,GAAGI,aAAa,CAACL,GAAD,EAAMD,UAAN,CAA7B;AACA,UAAME,OAAN;AAEAF,IAAAA,UAAU,GAAGO,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBR,UAAlB,EAA8B;AAAEE,MAAAA,OAAO,EAAEA;AAAX,KAA9B,CAAb;AACA,SAAKF,UAAL,GAAkBA,UAAlB;AACA,SAAKS,IAAL,GAAYT,UAAU,CAACU,IAAvB;AACA,SAAKC,IAAL,GAAYX,UAAU,CAACW,IAAvB;AACA,SAAKC,KAAL,GAAaZ,UAAU,CAACY,KAAxB;AACA,SAAKC,MAAL,GAAcb,UAAU,CAACa,MAAzB;AACD;AAED;AACF;AACA;AACA;;;AACEC,EAAAA,QAAQ,GAAG;AACT,WAAO,KAAKZ,OAAZ;AACD;AAED;AACF;AACA;;;AAEEa,EAAAA,MAAM,GAAG;AACP,WAAOR,MAAM,CAACC,MAAP,CAAc;AAAEQ,MAAAA,IAAI,EAAE,KAAKA,IAAb;AAAmBd,MAAAA,OAAO,EAAE,KAAKA;AAAjC,KAAd,EAA0D,IAA1D,CAAP;AACD;;AAtCwC;;AA0C3CK,MAAM,CAACU,cAAP,CAAsBnB,cAAc,CAACoB,SAArC,EAAgD,MAAhD,EAAwD;AACtDN,EAAAA,KAAK,EAAE;AAD+C,CAAxD;AAIA;AACA;AACA;AACA;;AAEAL,MAAM,CAACU,cAAP,CAAsBnB,cAAc,CAACoB,SAArC,EAAgD,YAAhD,EAA8D;AAC5DC,EAAAA,UAAU,EAAE,KADgD;AAE5DC,EAAAA,QAAQ,EAAE,IAFkD;AAG5DR,EAAAA,KAAK,EAAE;AAHqD,CAA9D,E,CAMA;;AACAd,cAAc,CAACoB,SAAf,CAAyBZ,aAAzB,GAAyCA,aAAzC;AAEA;AACA;AACA;;AAEA,SAASA,aAAT,CAAuBL,GAAvB,EAA4BD,UAA5B,EAAwC;AACtC,MAAI,OAAOC,GAAP,KAAe,UAAnB,EAA+B;AAC7B,WAAOA,GAAG,CAACD,UAAD,CAAV;AACD;;AAED,QAAMqB,aAAa,GAAGd,MAAM,CAACe,IAAP,CAAYtB,UAAZ,CAAtB;;AACA,OAAK,MAAMuB,YAAX,IAA2BF,aAA3B,EAA0C;AACxC,QAAIE,YAAY,KAAK,SAArB,EAAgC;AAC9B;AACD;;AACDtB,IAAAA,GAAG,GAAGA,GAAG,CAACuB,OAAJ,CAAY,MAAMD,YAAY,CAACE,WAAb,EAAN,GAAmC,GAA/C,EAAoDzB,UAAU,CAACuB,YAAD,CAA9D,CAAN;AACD;;AAED,SAAOtB,GAAP;AACD;AAED;AACA;AACA;;;AAEAyB,MAAM,CAACC,OAAP,GAAiB7B,cAAjB","sourcesContent":["/*!\n * Module dependencies.\n */\n\n'use strict';\n\nconst MongooseError = require('./');\n\n\nclass ValidatorError extends MongooseError {\n  /**\n   * Schema validator error\n   *\n   * @param {Object} properties\n   * @api private\n   */\n  constructor(properties) {\n    let msg = properties.message;\n    if (!msg) {\n      msg = MongooseError.messages.general.default;\n    }\n\n    const message = formatMessage(msg, properties);\n    super(message);\n\n    properties = Object.assign({}, properties, { message: message });\n    this.properties = properties;\n    this.kind = properties.type;\n    this.path = properties.path;\n    this.value = properties.value;\n    this.reason = properties.reason;\n  }\n\n  /*!\n   * toString helper\n   * TODO remove? This defaults to `${this.name}: ${this.message}`\n   */\n  toString() {\n    return this.message;\n  }\n\n  /*!\n   * Ensure `name` and `message` show up in toJSON output re: gh-9296\n   */\n\n  toJSON() {\n    return Object.assign({ name: this.name, message: this.message }, this);\n  }\n}\n\n\nObject.defineProperty(ValidatorError.prototype, 'name', {\n  value: 'ValidatorError'\n});\n\n/*!\n * The object used to define this validator. Not enumerable to hide\n * it from `require('util').inspect()` output re: gh-3925\n */\n\nObject.defineProperty(ValidatorError.prototype, 'properties', {\n  enumerable: false,\n  writable: true,\n  value: null\n});\n\n// Exposed for testing\nValidatorError.prototype.formatMessage = formatMessage;\n\n/*!\n * Formats error messages\n */\n\nfunction formatMessage(msg, properties) {\n  if (typeof msg === 'function') {\n    return msg(properties);\n  }\n\n  const propertyNames = Object.keys(properties);\n  for (const propertyName of propertyNames) {\n    if (propertyName === 'message') {\n      continue;\n    }\n    msg = msg.replace('{' + propertyName.toUpperCase() + '}', properties[propertyName]);\n  }\n\n  return msg;\n}\n\n/*!\n * exports\n */\n\nmodule.exports = ValidatorError;\n"]},"metadata":{},"sourceType":"script"}