{"ast":null,"code":"var _jsxFileName = \"/home/gregorian/calendar-ui/ui/src/components/Calendar/Calendar.js\",\n    _s = $RefreshSig$();\n\nimport styled from \"styled-components\";\nimport NewJobModal from \"../forms/NewJobModal\";\nimport DayLabels from \"../DayLabels\";\nimport Week from \"../Week\";\nimport HourTicks from \"../HourTicks\";\nimport Header from \"../Header\";\nimport settingsContext from \"../Contexts\";\nimport { fetchDays } from \"../../Model/Jobs\";\nimport React from \"react\";\nimport { fitsInWeek } from \"../../utilities/dateUtilities.js\";\nimport JobModal from \"../forms/JobModal\"; //import socketIOClient from \"socket.io-client\";\n\nimport { useWeek } from \"./reducer\";\nimport { useGapi } from \"../../useGapi/useGapi\";\nimport { incrementWeekThunk, decrementWeekThunk } from \"./calendarSlice\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CalendarStyled = styled.div`\n  margin: 30px;\n  display: grid;\n  grid-template-rows: 60px 60px ${props => String(props.hourHeight * 24) + \"px\"};\n  grid-template-columns: 60px 1fr;\n`;\n_c = CalendarStyled;\nexport default function Calendar() {\n  _s();\n\n  //const [daysOnCal, dispatch] = useWeek();\n  const [showNewJobModal, setShowNewJobModal] = React.useState(false);\n  const [displayEvent, setDisplayEvent] = React.useState(null); //const [events, setEvents] = React.useState([]);\n\n  const events = useSelector(state => state.calendar.events); //const [gcalEvents, setGcalEvents] = React.useState([]);\n\n  const dispatch = useDispatch();\n  const {\n    authed,\n    listEvents\n  } = useGapi();\n  const {\n    hourHeight\n  } = React.useContext(settingsContext);\n\n  const updateDisplayEvent = id => {\n    setDisplayEvent(events.filter(event => event._id === id)[0]);\n  };\n\n  const incrementWeek = () => {\n    //dispatch({ type: \"INCREMENT\" });\n    dispatch(incrementWeekThunk);\n  };\n\n  const decrementWeek = () => {\n    //dispatch({ type: \"DECREMENT\" });\n    dispatch(decrementWeekThunk);\n  };\n\n  const toggleNewJobModal = () => {\n    setShowNewJobModal(val => !val);\n  };\n\n  const closeDetailsModal = () => {\n    setDisplayEvent(null);\n  };\n\n  const addToEvents = () => {};\n\n  const updateEvent = () => {};\n\n  const currentDate = useSelector(state => state.calendar.currentDate);\n  const days = useSelector(state => state.calendar.days);\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CalendarStyled, {\n      hourHeight: hourHeight,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Header, {\n        currentDate: currentDate,\n        incrementWeek: incrementWeek,\n        decrementWeek: decrementWeek,\n        handleShowModal: toggleNewJobModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DayLabels, {\n        days: days\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(HourTicks, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Week, {\n        events: events,\n        gcalEvents: [],\n        days: days,\n        updateDisplayEvent: updateDisplayEvent,\n        updateEvent: updateEvent\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), showNewJobModal && /*#__PURE__*/_jsxDEV(NewJobModal, {\n      addToEvents: addToEvents,\n      toggleModal: toggleNewJobModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this), displayEvent && /*#__PURE__*/_jsxDEV(JobModal, {\n      displayEvent: displayEvent,\n      close: closeDetailsModal,\n      updateEvent: updateEvent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Calendar, \"HVfVhCdCWBY83at33sYO8yDGOWc=\", false, function () {\n  return [useSelector, useDispatch, useGapi, useSelector, useSelector];\n});\n\n_c2 = Calendar;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CalendarStyled\");\n$RefreshReg$(_c2, \"Calendar\");","map":{"version":3,"sources":["/home/gregorian/calendar-ui/ui/src/components/Calendar/Calendar.js"],"names":["styled","NewJobModal","DayLabels","Week","HourTicks","Header","settingsContext","fetchDays","React","fitsInWeek","JobModal","useWeek","useGapi","incrementWeekThunk","decrementWeekThunk","useDispatch","useSelector","CalendarStyled","div","props","String","hourHeight","Calendar","showNewJobModal","setShowNewJobModal","useState","displayEvent","setDisplayEvent","events","state","calendar","dispatch","authed","listEvents","useContext","updateDisplayEvent","id","filter","event","_id","incrementWeek","decrementWeek","toggleNewJobModal","val","closeDetailsModal","addToEvents","updateEvent","currentDate","days"],"mappings":"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","sourcesContent":["import styled from \"styled-components\";\nimport NewJobModal from \"../forms/NewJobModal\";\n\nimport DayLabels from \"../DayLabels\";\nimport Week from \"../Week\";\nimport HourTicks from \"../HourTicks\";\n\nimport Header from \"../Header\";\nimport settingsContext from \"../Contexts\";\n\nimport { fetchDays } from \"../../Model/Jobs\";\n\nimport React from \"react\";\nimport { fitsInWeek } from \"../../utilities/dateUtilities.js\";\n\nimport JobModal from \"../forms/JobModal\";\n\n//import socketIOClient from \"socket.io-client\";\n\nimport { useWeek } from \"./reducer\";\nimport { useGapi } from \"../../useGapi/useGapi\";\n\nimport { incrementWeekThunk, decrementWeekThunk } from \"./calendarSlice\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nconst CalendarStyled = styled.div`\n  margin: 30px;\n  display: grid;\n  grid-template-rows: 60px 60px ${(props) =>\n      String(props.hourHeight * 24) + \"px\"};\n  grid-template-columns: 60px 1fr;\n`;\n\nexport default function Calendar() {\n  //const [daysOnCal, dispatch] = useWeek();\n  const [showNewJobModal, setShowNewJobModal] = React.useState(false);\n  const [displayEvent, setDisplayEvent] = React.useState(null);\n  //const [events, setEvents] = React.useState([]);\n  const events = useSelector((state) => state.calendar.events);\n  //const [gcalEvents, setGcalEvents] = React.useState([]);\n\n  const dispatch = useDispatch();\n\n  const { authed, listEvents } = useGapi();\n\n  const { hourHeight } = React.useContext(settingsContext);\n\n  const updateDisplayEvent = (id) => {\n    setDisplayEvent(events.filter((event) => event._id === id)[0]);\n  };\n\n  const incrementWeek = () => {\n    //dispatch({ type: \"INCREMENT\" });\n    dispatch(incrementWeekThunk);\n  };\n\n  const decrementWeek = () => {\n    //dispatch({ type: \"DECREMENT\" });\n    dispatch(decrementWeekThunk);\n  };\n\n  const toggleNewJobModal = () => {\n    setShowNewJobModal((val) => !val);\n  };\n\n  const closeDetailsModal = () => {\n    setDisplayEvent(null);\n  };\n\n  const addToEvents = () => {};\n\n  const updateEvent = () => {};\n\n  const currentDate = useSelector((state) => state.calendar.currentDate);\n  const days = useSelector((state) => state.calendar.days);\n\n  return (\n    <React.Fragment>\n      <CalendarStyled hourHeight={hourHeight}>\n        <div></div>\n        <Header\n          currentDate={currentDate}\n          incrementWeek={incrementWeek}\n          decrementWeek={decrementWeek}\n          handleShowModal={toggleNewJobModal}\n        />\n        <div></div>\n        <DayLabels days={days} />\n        <HourTicks />\n        <Week\n          events={events}\n          gcalEvents={[]}\n          days={days}\n          updateDisplayEvent={updateDisplayEvent}\n          updateEvent={updateEvent}\n        />\n      </CalendarStyled>\n      {showNewJobModal && (\n        <NewJobModal\n          addToEvents={addToEvents}\n          toggleModal={toggleNewJobModal}\n        />\n      )}\n      {displayEvent && (\n        <JobModal\n          displayEvent={displayEvent}\n          close={closeDetailsModal}\n          updateEvent={updateEvent}\n        />\n      )}\n    </React.Fragment>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}